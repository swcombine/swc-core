; Converted by Abraari To
; Year 18 D101

(load "KayD-StringShortcuts")

(defun start
  (cond
    [(eq? (get-entity-type-name (get-container self)) "City") (say (concat "Good Morning, Citizens of " (city-name character) "! Today is a wonderful day. I hope you are having an excellent time."))]
    [#t (say "Morning all, hope today is just as fulfilling as yesterday.")])
  (say "I see you are all enjoying the Corellian Whiskey, and the fried Bantha steaks. Anyone have any questions for me?")
  (cond
    [(eq? (get-entity-type-name (get-container self)) "City") (add-response (concat "What are your plans for " (city-name self) "?") plan)]
    [#t (add-response "Are you going to run for a Mayor of a city soon?" candidate)])
  (add-action (concat "throw a shoe at " (herhim self) ".") shoe)
  (add-response "God, this is boring." leave)
)

(defun leave
  (say "Oh dear, so sad to see people leaving.")
)

(defun candidate
  (say "I do indeed. I am currently on route to a city where I will start a campaign to become mayor. I can only hope that the people there see the need, and vote me in. I feel for the people that have no such guidance at the moment, and grand plans will be afoot to make their city the greatest in the galaxy.")
  (add-response "What about the allegations of your misconduct with certain members of your staff?" secretary)
  (add-response "Do you have any plans for creature rehabilitation?" creature)
)

(defun shoe
  (describe (concat "The " (get-race self) " dodges the shoe, and is rapidly escorted away by some burly security officers"))
)

(defun ambitious
  (say "Not at all. Due to some prudent forging of alliances with certain groups that shall remain anonymous, I have a large funding base on which to work from. The only question you have to answer is, will you be there at the end?")
  (add-response (concat (get-name self) ", " (get-name self) " please, answer me!") exit)
  (add-action (concat "throw a shoe at " (herhim self) ".") shoe)
)

(defun creature
  (say "Not particularly. Any wild creatures that roam around MY city will be shot on sight. Might even award bounties for certain creatures if they prove bothersome. Don't worry, there will likely be plenty of work for such sentients as you willing to do work for the future of the city.")
  (add-response (concat (get-name self) ", " (get-name self) " please, answer me!") exit)
  (add-action (concat "throw a shoe at " (herhim self) ".") shoe)
)

(defun exit
  (say "Sorry no more questions please.")
  (describe "The potential mayor then leaves the podium and returns to his waiting speeder.")
)

(defun plan
  (cond [(eq? (get-entity-type-name (get-container self)) "City") (say (concat "I do indeed have a plan for " (city-name self) ". It will be grand, with many parks to wander through with plenty of exotic flora and fauna from around the galaxy. I intend on removing any industrial blemishes on this great city, and free healthcare for everyone!"))])
  (add-response "What about your relationship with your secretary?" secretary)
  (add-response "Isn't that kind of ambitious?" ambitious)
  (add-action (concat "throw a shoe at " (herhim self) ".") shoe)
)

(defun secretary
  (say "I have only one thing to say on the matter.")
  (cond
    [(eq? (get-gender self) "Woman") (say "I did not have relations with that man.")]
    [(eq? (get-gender self) "Man") (say "I did not have relations with that woman.")]
    [#t (say "I did not have relations with that sentient.")])
  (say "Unless there are any further questions, I believe I have a meeting to attend.")
  (add-response (concat (get-name self) ", " (get-name self) " please, answer me!") exit)
  (add-action (concat "throw a shoe at " (herhim self) ".") shoe)
)
